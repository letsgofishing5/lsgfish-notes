## 登录/退出

http是无状态的

- 通过cookie在客户端记录状态
- 通过session在服务器端记录状态
- 通过token方式维持状态

前后的存在跨域问题，使用token；

不存在则使用session和Cookie



#### 流程

账号密码登录后，后端返回token，客户端保存token，之后的每次请求都携带token

登录成功后，将token保存到`localStorage`中

1. 配代理
2. 先完成表单验证
3. 完成封装请求api
4. 封装Vuex的登录获取token，并将token持久化进Vuex中
   1. 在mutation中**同步**缓存和Vuex对token数据的**管理**
   2. 封装Actions，在这里判断是否请求成功，如果请求成功，则保存token到Vuex和缓存中
5. 当api、state、action、request 都完成封装后，我们要开始登录请求了
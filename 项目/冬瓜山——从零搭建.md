## 使用脚手架搭建

### 步骤

1. 安装 VUE 脚手架

2. 通过 VUE 脚手架创建项目

3. 配置 VUE 路由

4. 配置 Element-UI 组件库（可视化面板中选择插件）

5. 配置 axios 库（可视化面板中选择依赖，运行时依赖）

6. 初始化 git 远程仓库

7. 将本地项目托管到 Github 或码云上

   进入码云个人账号中，选择设置，选择：SSH公钥，跟着教程走

```cmd
首先查看是否安装webpack和vue-cli

//全局安装 webpack
npm install webpack -g

//webpack 4.X 开始，需要安装 webpack-cli 依赖
npm install webpack webpack-cli -g

//查看版本号
webpack -v

//全局安装vue-cli
npm install -g vue-cli

//查看版本号
vue -V 
```

```cmd
//命令行进入该目录
cd E:\vue\vue-demo

//下载模板
vue init webpack vue-demo

//进入交互页面，根据自己情况选择
?Project name vue-demo  -- 项目名称，直接回车，按照括号中默认名字（注意这里的名字不能有大写字母，如果有会报错Sorry, name can no longer contain capital letters）。
? Project description A Vue.js project  -- 项目描述,随便写
? Author  --  作者名称
? Vue build standalone  -- 我选择的运行加编译时
    Runtime + Compiler: recommended for most users
? Install vue-router? Yes  --  是否需要 vue-router
? Use ESLint to lint your code? Yes  --  是否使用 ESLint 作为代码规范.
? Pick an ESLint preset Standard  --  一样的ESlint 相关
? Set up unit tests Yes  --  是否安装单元测试
? Pick a test runner 按需选择  --  测试模块
? Setup e2e tests with Nightwatch? 安装选择  --  e2e 测试
? Should we run `npm install` for you after the project has been created? (recommended) npm  --  包管理器，我选的NPM
```

### 项目搭建后的问题处理

##### 设置项目启动自动打开浏览器

```npm
使用：npm run dev命令，则在dev中添加--open即可
```

```json
 "scripts": {
    "dev": "webpack-dev-server --open --inline --progress --config build/webpack.dev.conf.js",
    "start": "npm run dev",
    "lint": "eslint --ext .js,.vue src",
    "build": "node build/build.js"
  },
```

##### sass下载版本过高

```json
在package.json中，修改版本号    
"node-sass": "^5.0.0",
"sass-loader": "6.0.5",

然后再终端中执行：
npm i
npm run dev
```

##### Eslint语法提示报错

进入` .eslintrc.js `文件中，将下方代码注释即可

```js
  extends: [
    'plugin:vue/essential',
    // '@vue/standard'
  ],
```

##### npm常用指令

推荐博客：https://blog.csdn.net/moakun/article/details/80958387

##### 状态码

![image-20210422143727462](C:\Users\程童辉\Desktop\个人Gitee\markdown-notes\项目\冬瓜山——从零搭建\image-20210422143727462.png)

### 目录

#### 全局样式

在目录src/assets目录下，该目录是全局目录

在main.js中引入全局样式

```js
import "./assets/"
```

### ElementUI 遇到的问题

#### Element UI导入项目方式



#### iconFont 

选择阿里`iconFont`，选择自己需要的`icon`图标，下载

将文件解压后放入项目下：`src/assets`目录下

在`main.js中`，引入：`import './assets/font/iconfont.css'`

#### 表单验证

```js
 submitForm(e) {
     console.log('submit!',e);
     this.$refs[e].validate(valid=>{
		//如果表单验证通过，则valid返回true，否则返回false
        //这是一个回调函数
     })
}
```

### Vue知识点

#### 路由导航守卫控制访问权限

在router中，挂载路由导航守卫

如果用户没有登录，但是直接通过URL访问特定页面，需要重新导航到登预面。

```js
//为路由对象，添加beforeEach 导航守卫
router.beforeEach( (to, from, next) => {
//如果用户访问的登录页，直接放行
if (to.path ==='/login') return next()
//从sessionStorage中获取到保存的token 值
const tokenStr = window.sessionStorage.getItem( ' token')
//没有token,强制跳转到登录页
if (!tokenStr) return next('/login' )
next ()
})
```

#### 路由传参

##### 编程式

**传参组合：pq传参，np传参，以对象形式将其包裹，解构赋值**

```js
// 字符串
router.push('home')

// 对象
router.push({ path: 'home' })

// 命名的路由
router.push({ name: 'user', params: { userId: '123' }})

// 带查询参数，变成 /register?plan=private
router.push({ path: 'register', query: { plan: 'private' }})
```

### HTML布局

#### 左边固定，右边自适应

```html
<div class="con-4">
    <div class="fixed l4">固定200px</div>
    <div class="auto r4">自动充满</div>
</div>
```

```scss
.con-4{
    display: flex;
}
.l4{
    flex-shrink: 0;
}
.r4{
    width: 100%;
}
```



### 项目知识点

#### token存储

在用户登录后，将返回回来的`token`保存到`session Storage`中，之所以不保存到`local Storage`中，是因为`local Storage`是永久保存，`session Storage`是当前网页打开时存在，网页关闭后删除

#### 通过axios 请求拦截器添加token

保证拥有获取数据的权限

```js
// axios请求拦截
axios.interceptors.request.use(config => {
//为请求头对象，添加Token验证的Authorization 字段
config.headers.Authorization = window.sess ionStorage.getItem('token')
return config
})
```



#### 处理Eslint语法问题

格式化代码时，自动修复语法格式

在项目中创建文件：.prettierrc

```json
{
    "semi":false,
    "singleQuote":true
}
```



### 每日遇到的问题

#### 全局scss样式引入，局部无法使用


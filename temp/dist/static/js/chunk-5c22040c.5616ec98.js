(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c22040c"],{"0855":function(t,e,a){"use strict";a("11ac")},"11ac":function(t,e,a){},"9ade":function(t,e,a){"use strict";a("159b");e["a"]={data:function(){return{listQuery:{pageSize:10,pageNum:1},total:0}},methods:{resetForm:function(t){this.$refs[t].resetFields()},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.onSubmit()}))},getDictValue:function(t){var e=this;this.uniApi.getDictValue(t).then((function(t){t.forEach((function(t){"38"===t.filed&&(e.punchType=t.parent)}))}))},cancel:function(t,e){this[t]=!1,this.resetForm(e)},handleEdit:function(t,e){var a=this;this.title="修改",this.$nextTick((function(){for(var e in t)a.form[e]=t[e]})),this[e]=!0},handleDel:function(t,e){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.loading=!0,a.uniApi.切换自己的名字[e](t).then((function(){a.loading=!1,a.$message.success("删除成功"),a.getList("intelligentGetList")})).catch((function(){a.loading=!1}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handlePageChange:function(t,e){this.listQuery.pageNum=e,this.getList(t)},getList:function(t){this.$message.warning("当前为演示状态，功能暂未开通")},readOnly:function(){this.$message.warning("当前为演示状态，禁止输入内容")},functionYet:function(){this.$message.warning("当前为演示状态，功能暂未开通")}}}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),l=a("6eeb"),o=a("5135"),s=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),p=a("241c").f,b=a("06cf").f,g=a("9bf2").f,m=a("58a8").trim,h="Number",v=r[h],w=v.prototype,N=s(f(w))==h,y=function(t){var e,a,n,r,i,l,o,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=m(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),l=i.length,o=0;o<l;o++)if(s=i.charCodeAt(o),s<48||s>r)return NaN;return parseInt(i,n)}return+c};if(i(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(N?d((function(){w.valueOf.call(a)})):s(a)!=h)?c(new v(y(e)),a,k):y(e)},x=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)o(v,_=x[I])&&!o(k,_)&&g(k,_,b(v,_));k.prototype=w,w.constructor=k,l(r,h,k)}},f057:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"uni-row-bottom-20px",attrs:{gutter:20}},[a("el-col",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("查询信息")])]),a("div",[a("span",{staticClass:"info"},[a("span",{staticClass:"cursor-point",on:{click:t.queryAllPerson}},[t._v("冬瓜山铜矿当前井下人数 "),a("span",[t._v(t._s(t.all))]),t._v("人")]),t._v("，其中：本部人员 "),a("span",[t._v(t._s(t.local))]),t._v("人，矿外人员 "),a("span",[t._v(t._s(t.exter))]),t._v("人")]),a("el-button",{attrs:{type:"success",round:"",icon:"el-icon-refresh"},on:{click:function(e){return t.getList("numberWork")}}},[t._v("刷新")])],1)])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData,stripe:"","show-summary":"","summary-method":t.getSummaries}},[a("el-table-column",{attrs:{align:"center",label:"冬瓜山本部人员"}},[a("el-table-column",{attrs:{align:"center",type:"index",prop:"sortCode",width:"150",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"deptName",label:"部门名称"}}),a("el-table-column",{attrs:{align:"center",prop:"userSize",label:"总人数"}}),a("el-table-column",{attrs:{label:"当前下井人数",width:"80",prop:"wellSize"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.lookup(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.bukaRemark(e.row)}}},[t._v("打卡记录")])]}}])})],1)],1)]],2),a("el-col",{attrs:{span:12}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData2,stripe:"","show-summary":"","summary-method":t.getSummaries}},[a("el-table-column",{attrs:{align:"center",label:"矿外人员"}},[a("el-table-column",{attrs:{align:"center",type:"index",prop:"sortCode",width:"150",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"deptName",label:"部门名称"}}),a("el-table-column",{attrs:{align:"center",prop:"userSize",label:"总人数"}}),a("el-table-column",{attrs:{label:"当前下井人数",width:"80",prop:"wellSize"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.lookup(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.bukaRemark(e.row)}}},[t._v("打卡记录")])]}}])})],1)],1)]],2)],1)],1)],1)],1),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading3,expression:"loading3"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData3}},[a("el-table-column",{attrs:{align:"center",type:"index",prop:"sortCode",width:"150",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"userId",label:"人员编号"}}),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"姓名"}})],1)],a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],2)],1)},r=[],i=a("1da1"),l=(a("159b"),a("d81d"),a("a9e3"),a("96cf"),a("9ade")),o=a("b775");function s(){return Object(o["a"])({url:"well/external"})}function c(){return Object(o["a"])({url:"well/local"})}function u(){return Object(o["a"])({url:"well/dayInfo"})}function d(){return Object(o["a"])({url:"well/all"})}var f={name:"UnderCurrentNumberWells",mixins:[l["a"]],data:function(){return{loading:!1,loading2:!1,loading3:!1,dialogLoading:!1,dialogVisible:!1,total:0,form:{},tableData:[],tableData2:[],tableData3:[],all:0,local:0,exter:0}},created:function(){this.getData()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u().then((function(e){var a=e.data;t.all=a.all,t.exter=a.external,t.local=a.local})),t.loading=!0,t.loading2=!0,c().then((function(e){t.tableData=e.data,t.loading=!1})),s().then((function(e){t.tableData2=e.data,t.loading2=!1}));case 5:case"end":return e.stop()}}),e)})))()},lookup:function(t){this.$router.push({path:"wellUnderCard",query:t})},bukaRemark:function(t){this.$router.push({path:"cardRemark",query:t})},queryAllPerson:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogVisible=!0,t.loading3=!0,e.next=4,d();case 4:a=e.sent,t.tableData3=a.data,t.loading3=!1;case 7:case"end":return e.stop()}}),e)})))()},handleClose:function(){this.cancel("dialogVisible","")},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach((function(t,e){if(0!==e){var r=a.map((function(e){return Number(e[t.property])}));r.every((function(t){return isNaN(t)}))?n[e]="N/A":(n[e]=r.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0),n[e]+=" 人")}else n[e]="总人数"})),n}}},p=f,b=(a("0855"),a("2877")),g=Object(b["a"])(p,n,r,!1,null,"23fde1f8",null);e["default"]=g.exports}}]);
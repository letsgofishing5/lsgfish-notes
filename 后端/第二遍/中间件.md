# Zookeeper

[下载](http://mirror.bit.edu.cn/apache/zookeeper/)

下载后缀为：bin.tar.gz的文件

# Nginx

day72

# Dockers

day74

## 概念

镜像与容器

| 名称              | 说明                                                         |
| ----------------- | ------------------------------------------------------------ |
| 镜像（images）    | 镜像是用于创建Docker容器的模板，镜像是基于联合文件系统的一种层式结构 ，由一系列指令一步一步构建出来 |
| 容器（Container） | 容器是独立运行的一个或一组应用，镜像相当于类，容器相当于类的实例 |
| 客户端（Client）  | 客户端通过命令行或者其他工具使用Docker API 与 Docker 的守护进程通信 |
| 主机（Host）      | 一个物理 或  虚拟的机器用于执行 Docker 守护进程和容器        |
| 守护进程          | 是 Docker 服务端进程，负责支撑 Docker 容器的运行及镜像的管理 |
| 仓库（Registry）  | Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub提供了庞大的镜像集合供使用，用户也可以将自己本地的镜像推送到 Docker 仓库供其他人下载 |
|                   |                                                              |

## 安装

```bash
#杀死 yum 进程
rm -f/var/run/yum.pid
# 安装 环境
yum -y install gcc
yum -y install gcc-c++
# 安装插件
yum install -y yum-utils device-mapper-persistent-data lvm2
#设置镜像
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
# 更新插件
yum makecache fast
# 安装docker社区版
yum -y install docker-ce

# 配置镜像加速
mkdir -p /etc/docker
vim /etc/docker/daemon.json
# 阿里云
{
"registry-mirrors":["https://8y2y8njn.mirror.aliyuncs.com"]
}
# 重启docker
systemctl restart docker

# 卸载docker
systemctl stop docker
yum -y remove docker-ce
rm -rf  /var/lib/docker
```

启动Docker

1. 手动启动：systemctl start docker
2. 自动启动：systemctl enable docker

测试

1. docker version
2. 下载运行hello world ：docker run hello-world

#### 常用命令

1. docker images：查看当前下载的镜像
2. docker search tomcat：搜索tomcat镜像
3. docker pull tomcat：不指定版本下载（下载最新的）
4. 删除镜像
   1. docker rmi -f image-id/：删除镜像（-f：强制删除）
   2. docker rmi -f 镜像名1  镜像名2：删除多个镜像
   3. docker rmi -f $(docker images -qa)：删除所有镜像

#### 容器命令

1. 查看正在运行的容器：docker ps
2. 查看所有容器：docker ps -a
3. 查看最后一次 运行 的容器：docker ps -l
4. 查看停止的容器：docker ps -f status=exited

#### 交互式和守护式创建容器

> docker run  -it --name=容器名  tomcat:8  /bin/bash
>
> 命令解释
>
> - docker run：表示创建容器
> - -it：表示运行容器并进入他的命令行
> - --name=容器名：给当前容器命名
> - tomcat:8：使用该镜像创建
> - /bin/bash：放在镜像名后面的是命令，这里我们希望有一个交互式Shell，因此使用的是/bin/bash
>
> docker run -id --name=mysql5.7 -p 33306:3306 -e MYSQL_ROOT_PASSWORD=123456 centos/mysql-57-centos7
